(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{860:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permits",function(){return l(9585)}])},8493:function(e,a,l){"use strict";l.d(a,{Z:function(){return u}});var s=l(5893),i=l(7294),n=l(5520),t=l(1163),r=l(9008),o=l.n(r),d=l(1664),c=l.n(d),m=l(5675),h=l.n(m);function u(e){var a,l,r,d;let{children:m}=e,u=(0,i.useContext)(n.I),x=(0,t.useRouter)();if((0,i.useEffect)(()=>{u.data.isAuthenticated||x.push("/")},[u.data.isAuthenticated,x]),!u.data.isAuthenticated)return(0,s.jsx)(s.Fragment,{});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("header",{children:[(0,s.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark text-white",style:{maxHeight:86,overflow:"hidden"},children:(0,s.jsx)("div",{className:"container-fluid",children:(0,s.jsxs)("div",{className:"d-flex justify-content-start align-items-start align-items-sm-start align-items-md-center w-100",children:[(0,s.jsxs)("div",{className:"d-flex flex-fill",children:[(0,s.jsx)("a",{className:"navbar-brand",href:"#",children:(0,s.jsx)(h(),{src:"/ofsc.png",alt:"Logo",width:"60",height:"60"})}),(0,s.jsxs)("div",{className:"d-flex flex-column justify-content-between",children:[(0,s.jsx)("h4",{children:"Ontario Federation of Snowmobile Clubs"}),(0,s.jsxs)("div",{className:"d-none d-sm-none d-md-block",children:["Logged in as ",u.data.email,".",(0,s.jsx)("span",{className:"btn btn-link align-baseline border-0 ms-2 p-0",onClick:e=>f(),children:"Logout"})]})]})]}),(0,s.jsxs)("div",{className:"d-flex align-items-center",children:[(0,s.jsx)("div",{className:"text-nowrap px-3 px-sm-3 px-md-0",children:(0,s.jsxs)(c(),{className:"nav-link","aria-current":"page",href:"/cart",children:[(0,s.jsx)("i",{className:"fa-solid fa-cart-shopping fa-xl"}),(null===(a=u.data)||void 0===a?void 0:null===(l=a.cartItems)||void 0===l?void 0:l.length)>0&&(0,s.jsx)("span",{className:"badge text-bg-danger rounded-pill align-text-bottom ms-1",children:null===(r=u.data)||void 0===r?void 0:null===(d=r.cartItems)||void 0===d?void 0:d.length})]})}),(0,s.jsx)("div",{className:"d-block d-sm-block d-md-none",children:(0,s.jsx)("button",{className:"navbar-toggler","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,s.jsx)("span",{className:"navbar-toggler-icon"})})})]})]})})}),(0,s.jsx)("div",{className:"collapse navbar-collapse bg-dark text-white px-3 pb-1",id:"navbarCollapse",children:(0,s.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0 d-block d-sm-block d-md-none",children:[(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsxs)(c(),{className:"nav-link","aria-current":"page",href:"",onClick:()=>{x.push("/home")},"data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse",children:[(0,s.jsx)("i",{className:"fa-solid fa-house me-2"}),"Home"]})}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsxs)(c(),{className:"nav-link","aria-current":"page",href:"",onClick:()=>{x.push("/contact")},"data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse",children:[(0,s.jsx)("i",{className:"fa-regular fa-address-card me-2"}),"Contact Information"]})}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsxs)(c(),{className:"nav-link","aria-current":"page",href:"",onClick:()=>{x.push("/permits")},"data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse",children:[(0,s.jsx)("i",{className:"fa-solid fa-snowflake me-2"}),"Snowmobiles & Permits"]})}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsxs)(c(),{className:"nav-link","aria-current":"page",href:"",onClick:()=>{x.push("/gift-cards")},"data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse",children:[(0,s.jsx)("i",{className:"fa-solid fa-gift me-2"}),"Gift Cards"]})}),(0,s.jsx)("li",{children:(0,s.jsx)("hr",{className:"dropdown-divider my-2",style:{backgroundColor:"white",height:1}})}),(0,s.jsxs)("li",{className:"nav-item",children:[(0,s.jsx)("i",{className:"fa-solid fa-user me-2"}),"Logged in as ",u.data.email,".",(0,s.jsx)("span",{className:"ms-2",children:(0,s.jsx)(c(),{className:"text-decoration-none",href:"",onClick:e=>f(),children:"Logout"})})]})]})}),(0,s.jsx)("div",{className:"nav-scroller bg-body shadow-sm d-none d-sm-none d-md-block",children:(0,s.jsxs)("nav",{className:"nav","aria-label":"Secondary navigation",children:[(0,s.jsxs)(c(),{className:"nav-link ".concat("home"===u.data.navbarPage?"active":""),href:"/home",children:[(0,s.jsx)("i",{className:"fa-solid fa-house me-2"}),"Home"]}),(0,s.jsxs)(c(),{className:"nav-link ".concat("contact"===u.data.navbarPage?"active":""),href:"/contact",children:[(0,s.jsx)("i",{className:"fa-regular fa-address-card me-2"}),"Contact Information"]}),(0,s.jsxs)(c(),{className:"nav-link ".concat("permits"===u.data.navbarPage?"active":""),href:"/permits",children:[(0,s.jsx)("i",{className:"fa-solid fa-snowflake me-2"}),"Snowmobiles & Permits"]}),(0,s.jsxs)(c(),{className:"nav-link ".concat("gift-cards"===u.data.navbarPage?"active":""),href:"/gift-cards",children:[(0,s.jsx)("i",{className:"fa-solid fa-gift me-2"}),"Gift Cards"]})]})})]}),(0,s.jsx)("main",{className:"container-fluid container-md py-2",children:m}),(0,s.jsx)("footer",{className:"footer bg-secondary py-3",children:(0,s.jsx)("div",{className:"container-fluid",style:{padding:0},children:(0,s.jsx)("div",{className:"text-white text-center",children:"Need help? Contact OFSC at 705-739-7669 or permits@ofsc.on.ca"})})})]});function f(){u.updater(e=>{e.isAuthenticated=!1,e.email=void 0,e.token=void 0}),x.push("/")}}},5833:function(e,a,l){"use strict";l.d(a,{R:function(){return n},i:function(){return t}});var s=l(381),i=l.n(s);function n(e){var a,l,s;let i=null,n=null==e?void 0:null===(a=e.target)||void 0===a?void 0:a.value,t=null===(l=null==e?void 0:null===(s=e.target)||void 0===s?void 0:s.selectedOptions[0])||void 0===l?void 0:l.text;return null!=n&&null!=t&&(i={key:n,value:t}),i}function t(e){return i()(e).format("D/M/YYYY")}},9585:function(e,a,l){"use strict";let s;l.r(a),l.d(a,{default:function(){return w}});var i=l(5893),n=l(7294),t=l(5520),r=l(8493),o=l(9008),d=l.n(o),c=l(5833),m=l(8281),h=l(1664),u=l.n(h),x=l(6263),f=l(3680);let v="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var p={randomUUID:v};let j=new Uint8Array(16);function b(){if(!s&&!(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(j)}let g=[];for(let e=0;e<256;++e)g.push((e+256).toString(16).slice(1));var N=function(e,a,l){if(p.randomUUID&&!a&&!e)return p.randomUUID();e=e||{};let s=e.random||(e.rng||b)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,a){l=l||0;for(let e=0;e<16;++e)a[l+e]=s[e];return a}return function(e,a=0){return(g[e[a+0]]+g[e[a+1]]+g[e[a+2]]+g[e[a+3]]+"-"+g[e[a+4]]+g[e[a+5]]+"-"+g[e[a+6]]+g[e[a+7]]+"-"+g[e[a+8]]+g[e[a+9]]+"-"+g[e[a+10]]+g[e[a+11]]+g[e[a+12]]+g[e[a+13]]+g[e[a+14]]+g[e[a+15]]).toLowerCase()}(s)};function w(){let e=(0,n.useContext)(t.I);return(0,n.useEffect)(()=>{e.updater(e=>{e.navbarPage="permits"})},[e]),(0,i.jsx)(r.Z,{children:(0,i.jsx)(y,{})})}function y(){var e,a,l;let s=(0,n.useContext)(t.I),r=null!==(a=null===(e=s.data)||void 0===e?void 0:e.snowmobiles)&&void 0!==a?a:[],[o,h]=(0,n.useState)(!1),[v,p]=(0,n.useState)(""),j=new Date().getFullYear(),b=function(e,a){let l=[];for(let e=1960;e<=a;e++)l.push(e);return l}(0,j),[g,w]=(0,n.useState)(""),[y,k]=(0,n.useState)({key:"",value:""}),[C,P]=(0,n.useState)(""),[F,S]=(0,n.useState)(""),[I,O]=(0,n.useState)(""),[D,R]=(0,n.useState)(!1),[T,_]=(0,n.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d(),{children:(0,i.jsx)("title",{children:"Permits | Ontario Federation of Snowmobile Clubs"})}),(0,i.jsx)("h4",{children:"Snowmobiles & Permits"}),0===r.length&&(0,i.jsx)("div",{children:"You have not added any snowmobiles."}),(0,i.jsx)("button",{className:"btn btn-primary mb-2",onClick:()=>E(),children:"Add Snowmobile"}),null!=r&&r.length>0&&r.map(e=>{var a,l,s,n;return(0,i.jsxs)("div",{className:"card w-100 mb-2",children:[(0,i.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,i.jsxs)("div",{className:"row row-cols-lg-auto g-3",children:[(0,i.jsxs)("div",{className:"d-none d-sm-none d-md-flex",children:[(0,i.jsxs)("div",{className:"form-floating",style:{minWidth:54},children:[(0,i.jsx)("div",{className:"form-control-plaintext fw-bold",id:"floatingPlaintextInput",children:e.year}),(0,i.jsx)("label",{htmlFor:"floatingPlaintextInput",children:"Year"})]}),(0,i.jsxs)("div",{className:"form-floating",style:{minWidth:63},children:[(0,i.jsx)("div",{className:"form-control-plaintext fw-bold",id:"floatingPlaintextInput",children:e.make.value}),(0,i.jsx)("label",{htmlFor:"floatingPlaintextInput",children:"Make"})]}),(0,i.jsxs)("div",{className:"form-floating",style:{minWidth:70},children:[(0,i.jsx)("div",{className:"form-control-plaintext fw-bold",id:"floatingPlaintextInput",children:e.model}),(0,i.jsx)("label",{htmlFor:"floatingPlaintextInput",children:"Model"})]}),(0,i.jsxs)("div",{className:"form-floating",style:{minWidth:51},children:[(0,i.jsx)("div",{className:"form-control-plaintext fw-bold",id:"floatingPlaintextInput",children:e.vin}),(0,i.jsx)("label",{htmlFor:"floatingPlaintextInput",children:"VIN"})]}),(0,i.jsxs)("div",{className:"form-floating",style:{minWidth:59},children:[(0,i.jsx)("div",{className:"form-control-plaintext fw-bold",id:"floatingPlaintextInput",children:e.licensePlate}),(0,i.jsx)("label",{htmlFor:"floatingPlaintextInput",children:"Plate"})]})]}),(0,i.jsx)("div",{className:"d-md-none",children:"".concat(e.year," ").concat(e.make.value," ").concat(e.model," ").concat(e.vin," ").concat(e.licensePlate)})]}),(0,i.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,i.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>E(e.id),children:"Edit"}),(0,i.jsx)("button",{className:"btn btn-danger btn-sm ms-1",children:"Remove"})]})]}),(0,i.jsxs)("ul",{className:"list-group list-group-flush",children:[null!=e.permit&&(0,i.jsx)("li",{className:"list-group-item",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"Permit:"})," ",null===(a=e.permit)||void 0===a?void 0:a.name," - ",null===(l=e.permit)||void 0===l?void 0:l.number]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"Purchased:"})," ",(0,c.i)(null===(s=e.permit)||void 0===s?void 0:s.purchaseDate)]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:"Tracking #:"})," ",null===(n=e.permit)||void 0===n?void 0:n.trackingNumber]})]})}),null==e.permit&&null!=e.permitOptions&&e.permitOptions.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("li",{className:"list-group-item",children:[(0,i.jsx)("h5",{className:"card-title",children:"Select a permit to purchase"}),(0,i.jsxs)("div",{className:"form-check form-check-inline",children:[(0,i.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1"}),(0,i.jsx)("label",{className:"form-check-label",htmlFor:"flexRadioDefault1",children:"None Selected"})]}),e.permitOptions.map(e=>(0,i.jsxs)("div",{className:"form-check form-check-inline",children:[(0,i.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2"}),(0,i.jsxs)("label",{className:"form-check-label",htmlFor:"flexRadioDefault2",children:[e.name," - ",e.price]})]},e.id))]}),(0,i.jsxs)("li",{className:"list-group-item",children:[(0,i.jsx)("h5",{className:"card-title",children:"Select a date range"}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-6",children:(0,i.jsxs)("div",{className:"form-floating mb-2",children:[(0,i.jsx)("input",{type:"text",className:"form-control",id:"permit-from",placeholder:"From"}),(0,i.jsx)("label",{className:"required",htmlFor:"permit-from",children:"From"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-6",children:(0,i.jsxs)("div",{className:"form-floating mb-2",children:[(0,i.jsx)("input",{type:"text",className:"form-control",id:"permit-to",placeholder:"To"}),(0,i.jsx)("label",{className:"required",htmlFor:"permit-to",children:"To"})]})})]})]}),(0,i.jsxs)("li",{className:"list-group-item",children:[(0,i.jsx)("h5",{className:"card-title",children:"Select a club"}),(0,i.jsx)("div",{className:"mb-2 fw-bold",children:"By choosing a specific club when buying a permit, you're directly helping that club groom and maintain the trails you enjoy riding most often, so please buy where you ride and make your selection below."}),(0,i.jsxs)("div",{className:"form-floating mb-2",children:[(0,i.jsxs)("select",{className:"form-select",id:"permits-club","aria-label":"Club",value:"",onChange:()=>!0,children:[(0,i.jsx)("option",{value:"",disabled:!0,children:"Please select a value"}),null!=m.ap&&m.ap.length>0&&m.ap.map(e=>(0,i.jsx)("option",{value:e.key,children:e.value},e.key))]}),(0,i.jsx)("label",{className:"required",htmlFor:"permits-club",children:"Club"})]}),(0,i.jsx)(u(),{className:"text-decoration-none",href:"",onClick:e=>void 0,children:"Can't find your club? Use the Club Locator Map and enter the closest town name to get started."})]})]})]}),null!=e.permit&&(0,i.jsxs)("div",{className:"card-footer",children:[(0,i.jsx)("i",{className:"fa-solid fa-circle-info me-2"}),"This vehicle cannot be modified as a Ministry of Transportation Ontario Snowmobile Trail Permit has been registered to it."]})]},e.id)}),r.length>0&&(0,i.jsx)("button",{className:"btn btn-primary",onClick:()=>E(),children:"Add Snowmobile"}),(0,i.jsxs)(x.Z,{show:o,onHide:U,backdrop:"static",keyboard:!1,dialogClassName:"modal-width-90-percent",children:[(0,i.jsx)(x.Z.Header,{closeButton:!0,children:(0,i.jsx)(x.Z.Title,{children:"Edit Snowmobile"})}),(0,i.jsx)(x.Z.Body,{children:(0,i.jsxs)("div",{className:"container-fluid",children:[(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-6",children:(0,i.jsxs)("div",{className:"form-floating mb-2",children:[(0,i.jsxs)("select",{className:"form-select",id:"add-edit-snowmobile-year","aria-label":"Year",value:g,onChange:e=>w(e.target.value),children:[(0,i.jsx)("option",{value:"",disabled:!0,children:"Please select a value"}),null!=b&&b.length>0&&b.map(e=>(0,i.jsx)("option",{value:e,children:e},e))]}),(0,i.jsx)("label",{className:"required",htmlFor:"add-edit-snowmobile-year",children:"Year"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-6",children:(0,i.jsxs)("div",{className:"form-floating mb-2",children:[(0,i.jsxs)("select",{className:"form-select",id:"add-edit-snowmobile-make","aria-label":"Make",value:y.key,onChange:e=>k(null!==(l=(0,c.R)(e))&&void 0!==l?l:{key:"",value:""}),children:[(0,i.jsx)("option",{value:"",disabled:!0,children:"Please select a value"}),null!=m.cB&&m.cB.length>0&&m.cB.map(e=>(0,i.jsx)("option",{value:e.key,children:e.value},e.key))]}),(0,i.jsx)("label",{className:"required",htmlFor:"add-edit-snowmobile-make",children:"Make"})]})})]}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-4",children:(0,i.jsxs)("div",{className:"form-floating mb-2",children:[(0,i.jsx)("input",{type:"text",className:"form-control",id:"add-edit-snowmobile-model",placeholder:"Model",value:C,onChange:e=>P(e.target.value)}),(0,i.jsx)("label",{className:"required",htmlFor:"add-edit-snowmobile-model",children:"Model"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-4",children:(0,i.jsxs)("div",{className:"form-floating mb-2",children:[(0,i.jsx)("input",{type:"text",className:"form-control",id:"add-edit-snowmobile-vin",placeholder:"VIN",value:F,onChange:e=>S(e.target.value)}),(0,i.jsx)("label",{className:"required",htmlFor:"add-edit-snowmobile-vin",children:"VIN"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-4",children:(0,i.jsxs)("div",{className:"form-floating mb-2",children:[(0,i.jsx)("input",{type:"text",className:"form-control",id:"add-edit-snowmobile-license-plate",placeholder:"License Plate",value:I,onChange:e=>O(e.target.value)}),(0,i.jsx)("label",{className:"required",htmlFor:"add-edit-snowmobile-license-plate",children:"License Plate"})]})})]}),(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"form-check mb-2",children:[(0,i.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"add-edit-snowmobile-permit-for-this-snowmobile-only",defaultChecked:D,onChange:e=>{R(e.target.checked)}}),(0,i.jsx)("label",{className:"form-check-label",htmlFor:"add-edit-snowmobile-permit-for-this-snowmobile-only",children:"I understand that the trail permit for which I am applying is valid only for the motorized snow vehicle identified in this application and is valid only where the sticker (permit) issued under this application is permanently affixed in the required position on that motorized snow vehicle. I certify that the information contained in this application is true and acknowledge and accept the responsibilities imposed by law."})]})})}),(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"form-check",children:[(0,i.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"add-edit-snowmobile-registered-owner",defaultChecked:T,onChange:e=>_(e.target.checked)}),(0,i.jsx)("label",{className:"form-check-label",htmlFor:"add-edit-snowmobile-registered-owner",children:"I confirm I am the registered owner of this vehicle."})]})})})]})}),(0,i.jsx)(x.Z.Footer,{children:(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col",children:[(0,i.jsx)("span",{className:"text-danger me-1",children:"*"}),"= mandatory field"]}),(0,i.jsxs)("div",{className:"col d-flex justify-content-end",children:[(0,i.jsx)(f.Z,{className:"me-2",variant:"secondary",onClick:function(){s.updater(e=>{if(""===v){let a={id:N(),year:g,make:y,model:C,vin:F,licensePlate:I,permitForThisSnowmobileOnly:D,registeredOwner:T,permit:void 0,permitOptions:m.K$};e.snowmobiles.push(a)}else{let a=e.snowmobiles.filter(e=>e.id===v)[0];null!=a&&(a.year=g,a.make=y,a.model=C,a.vin=F,a.licensePlate=I,a.permitForThisSnowmobileOnly=D,a.registeredOwner=T,a.permit=void 0,a.permitOptions=m.K$)}}),h(!1)},children:"Save"}),(0,i.jsx)(f.Z,{variant:"primary",onClick:U,children:"Cancel"})]})]})})})]})]});function E(e){if(null==e)w(""),k({key:"",value:""}),P(""),S(""),O(""),R(!1),_(!1),p("");else{var a,l,s,i,n,t,o;let d=r.filter(a=>a.id===e)[0];w(null!==(a=null==d?void 0:d.year)&&void 0!==a?a:""),k(null!==(l=null==d?void 0:d.make)&&void 0!==l?l:{key:"",value:""}),P(null!==(s=null==d?void 0:d.model)&&void 0!==s?s:""),S(null!==(i=null==d?void 0:d.vin)&&void 0!==i?i:""),O(null!==(n=null==d?void 0:d.licensePlate)&&void 0!==n?n:""),R(null!==(t=null==d?void 0:d.permitForThisSnowmobileOnly)&&void 0!==t&&t),_(null!==(o=null==d?void 0:d.registeredOwner)&&void 0!==o&&o),p(e)}h(!0)}function U(){h(!1)}}}},function(e){e.O(0,[345,664,2,774,888,179],function(){return e(e.s=860)}),_N_E=e.O()}]);